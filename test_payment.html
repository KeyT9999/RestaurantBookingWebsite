<!DOCTYPE html>
<html>
<head>
    <title>Test Payment Page</title>
</head>
<body>
    <h1>Test Payment Page Access</h1>
    
    <h2>Steps to test:</h2>
    <ol>
        <li>Go to <a href="http://localhost:8081/auth/register" target="_blank">Register Page</a></li>
        <li>Create a new account</li>
        <li>Login with your credentials</li>
        <li>Create a booking (go to booking/new)</li>
        <li>After creating booking, you'll be redirected to payment page</li>
        <li>Or manually go to: <a href="http://localhost:8081/payment/42" target="_blank">http://localhost:8081/payment/42</a></li>
    </ol>
    
    <h2>Test Admin Login:</h2>
    <p>Username: admin</p>
    <p>Password: admin123</p>
    <p><a href="http://localhost:8081/login" target="_blank">Login Page</a></p>
    
    <h2>Current Status:</h2>
    <p>✅ Application is running on port 8081</p>
    <p>✅ Payment endpoint is protected (redirects to login when not authenticated)</p>
    <p>✅ Thymeleaf syntax errors have been fixed</p>
    <p>✅ Payment form template should work correctly now</p>
    
    <script>
        // Test if payment page loads without 500 error
        fetch('http://localhost:8081/payment/42')
            .then(response => {
                console.log('Response status:', response.status);
                console.log('Response URL:', response.url);
                if (response.status === 200 && response.url.includes('/login')) {
                    console.log('✅ Payment page correctly redirects to login (expected behavior)');
                } else if (response.status === 200) {
                    console.log('✅ Payment page loads successfully');
                } else {
                    console.log('❌ Unexpected response:', response.status);
                }
            })
            .catch(error => {
                console.log('❌ Error:', error);
            });
    </script>
</body>
</html>
