<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Eat – Đặt bàn online, giữ chỗ ngay</title>
    <meta name="description" content="Book Eat – Đặt bàn online, giữ chỗ ngay. Tìm nhà hàng, chọn bàn, xác nhận trong vài giây.">
    <meta name="keywords" content="dat ban, restaurant booking, giu cho, dat ban online, book eat">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Book Eat – Đặt bàn online, giữ chỗ ngay">
    <meta property="og:description" content="Book Eat – Đặt bàn online, giữ chỗ ngay. Tìm nhà hàng, chọn bàn, xác nhận trong vài giây.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://bookeat.example">
    <meta property="og:type" content="website">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom Luxury CSS -->
    <link th:href="@{/css/luxury.css}" rel="stylesheet">
    
    <!-- Gooey Navigation CSS -->
    <link th:href="@{/css/gooey-nav.css}" rel="stylesheet">
</head>

<body>
    <!-- Header Fragment -->
    <div th:insert="~{fragments/header :: site-header}"></div>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- Flash Messages -->
        <div class="container">
            <div th:insert="~{fragments/flash :: flash}"></div>
        </div>
        
        

        <!-- Featured Restaurants Carousel Section -->
        <section class="restaurants-carousel" id="restaurants">
            <div class="container-fluid px-0">
                <!-- Bootstrap Carousel - Image Only -->
                <div id="restaurantBootstrapCarousel" class="carousel slide image-only-carousel" data-bs-ride="carousel" data-bs-interval="6000">
                    <div class="carousel-inner">
                        <!-- Restaurant Image 1 -->
                        <div class="carousel-item active">
                            <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" 
                                 class="d-block w-100 carousel-image" alt="Aurelius Downtown">
                            <div class="carousel-caption">
                                <div class="caption-content">
                                    <h3 class="restaurant-name">Aurelius Downtown</h3>
                                    <p class="restaurant-description">Không gian ẩm thực sang trọng với view đẹp và menu đa dạng</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Restaurant Image 2 -->
                        <div class="carousel-item">
                            <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" 
                                 class="d-block w-100 carousel-image" alt="Aurelius Garden">
                            <div class="carousel-caption">
                                <div class="caption-content">
                                    <h3 class="restaurant-name">Aurelius Garden</h3>
                                    <p class="restaurant-description">Thiên đường ẩm thực giữa lòng thành phố với không gian xanh mát</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Restaurant Image 3 -->
                        <div class="carousel-item">
                            <img src="https://images.unsplash.com/photo-1551632436-cbf8dd35adfa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" 
                                 class="d-block w-100 carousel-image" alt="Aurelius Rooftop">
                            <div class="carousel-caption">
                                <div class="caption-content">
                                    <h3 class="restaurant-name">Aurelius Rooftop</h3>
                                    <p class="restaurant-description">Trải nghiệm ẩm thực cao cấp với tầm nhìn toàn cảnh thành phố</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Arrows -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#restaurantBootstrapCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#restaurantBootstrapCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                    
                    <!-- Dots Indicator -->
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#restaurantBootstrapCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#restaurantBootstrapCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#restaurantBootstrapCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials" id="testimonials">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center mb-5">
                        <h2 class="section__title" data-aos="fade-up">Khách hàng nói gì</h2>
                        <p class="section__subtitle" data-aos="fade-up" data-aos-delay="100">Trải nghiệm từ những thực khách đã ghé thăm</p>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="testimonial-card" data-aos="fade-up" data-aos-delay="200">
                            <div class="testimonial-card__quote">
                                <i class="fas fa-quote-left"></i>
                            </div>
                            <blockquote class="testimonial-card__text">
                                "Trải nghiệm ẩm thực tuyệt vời nhất mà tôi từng có. Mỗi món ăn đều là một tác phẩm nghệ thuật, 
                                từ hương vị đến cách trình bày."
                            </blockquote>
                            <div class="testimonial-card__author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="author-name">Nguyễn Minh Anh</h6>
                                    <span class="author-title">Food Blogger</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="testimonial-card" data-aos="fade-up" data-aos-delay="300">
                            <div class="testimonial-card__quote">
                                <i class="fas fa-quote-left"></i>
                            </div>
                            <blockquote class="testimonial-card__text">
                                "Dịch vụ hoàn hảo và không gian sang trọng. Book Eat đã tạo nên một kỷ niệm đáng nhớ 
                                cho buổi tối kỷ niệm của chúng tôi."
                            </blockquote>
                            <div class="testimonial-card__author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="author-name">Trần Hoàng Nam</h6>
                                    <span class="author-title">Doanh nhân</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="testimonial-card" data-aos="fade-up" data-aos-delay="400">
                            <div class="testimonial-card__quote">
                                <i class="fas fa-quote-left"></i>
                            </div>
                            <blockquote class="testimonial-card__text">
                                "Chất lượng món ăn xuất sắc và đội ngũ phục vụ chuyên nghiệp. 
                                Tôi sẽ quay lại và giới thiệu cho bạn bè."
                            </blockquote>
                            <div class="testimonial-card__author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="author-name">Lê Thu Hương</h6>
                                    <span class="author-title">Kiến trúc sư</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer Fragment -->
    <div th:insert="~{fragments/footer :: site-footer}"></div>

    <!-- Bootstrap 5 JS -->
    <!-- Enhanced Search Filter Styles -->
    <style>
        .quick-filters {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .quick-filter-btn {
            border-radius: 20px !important;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .quick-filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .quick-filter-btn.active {
            background: var(--gold-color) !important;
            border-color: var(--gold-color) !important;
            color: white !important;
        }
        
        .advanced-filters {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--gold-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 215, 0, 0.25);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .form-label {
            color: white;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .btn--gold {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            border: none;
            color: #333;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .btn--gold:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
        }
        
        .btn--outline {
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            background: transparent;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .btn--outline:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.5);
            color: white;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Custom JS -->
    <script th:src="@{/js/main.js}" defer></script>
    
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true,
            offset: 100
        });
        
        // Bootstrap Carousel Configuration
        const carousel = document.getElementById('restaurantBootstrapCarousel');
        if (carousel) {
            // Initialize Bootstrap carousel with custom settings
            const bootstrapCarousel = new bootstrap.Carousel(carousel, {
                interval: 6000, // 6 seconds
                wrap: true,
                touch: true,
                keyboard: true
            });
            
            // Optional: Add custom event listeners
            carousel.addEventListener('slide.bs.carousel', function (event) {
                console.log('Sliding to slide:', event.to);
            });
            
            carousel.addEventListener('slid.bs.carousel', function (event) {
                console.log('Slid to slide:', event.to);
            });
        }
        
        // Quick Filter Functions
        function applyQuickFilter(filterType) {
            // Remove active class from all buttons
            document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Apply filter based on type
            switch(filterType) {
                case 'nearby':
                    document.getElementById('distanceFilter').value = '1km';
                    document.getElementById('sortBy').value = 'createdAt-desc';
                    break;
                case 'high-rating':
                    document.getElementById('ratingFilter').value = '4.5+';
                    document.getElementById('sortBy').value = 'averageRating-desc';
                    break;
                case 'cheap':
                    document.getElementById('priceRange').value = '0-100000';
                    document.getElementById('sortBy').value = 'averagePrice-asc';
                    break;
                case 'popular':
                    document.getElementById('popularityFilter').value = 'trending';
                    document.getElementById('sortBy').value = 'averageRating-desc';
                    break;
                case 'new':
                    document.getElementById('sortBy').value = 'createdAt-desc';
                    break;
                case 'open-now':
                    document.getElementById('hoursFilter').value = 'open-now';
                    break;
            }
            
            // Show toast notification
            showFilterToast(`Đã áp dụng bộ lọc: ${event.target.textContent.trim()}`);
        }
        
        // Toggle Advanced Filters
        function toggleAdvancedFilters() {
            const advancedFilters = document.getElementById('advancedFilters');
            const toggleText = document.getElementById('advancedToggleText');
            const toggleIcon = document.getElementById('advancedToggleIcon');
            
            if (advancedFilters.style.display === 'none') {
                advancedFilters.style.display = 'block';
                toggleText.textContent = 'Ẩn bộ lọc nâng cao';
                toggleIcon.className = 'fas fa-chevron-up ms-1';
            } else {
                advancedFilters.style.display = 'none';
                toggleText.textContent = 'Bộ lọc nâng cao';
                toggleIcon.className = 'fas fa-chevron-down ms-1';
            }
        }
        
        // Clear all filters
        function clearFilters() {
            // Clear all form inputs
            document.getElementById('searchQuery').value = '';
            document.getElementById('cuisineType').value = '';
            document.getElementById('priceRange').value = '';
            document.getElementById('ratingFilter').value = '';
            document.getElementById('sortBy').value = 'createdAt-desc';
            document.getElementById('distanceFilter').value = '';
            document.getElementById('hoursFilter').value = '';
            document.getElementById('popularityFilter').value = '';
            document.getElementById('features').value = '';
            
            // Remove active class from quick filter buttons
            document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Hide advanced filters
            document.getElementById('advancedFilters').style.display = 'none';
            document.getElementById('advancedToggleText').textContent = 'Bộ lọc nâng cao';
            document.getElementById('advancedToggleIcon').className = 'fas fa-chevron-down ms-1';
            
            showFilterToast('Đã xóa tất cả bộ lọc');
        }
        
        // Show filter toast notification
        function showFilterToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #ffd700, #ffed4e);
                color: #333;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 9999;
                font-weight: 600;
                animation: slideInRight 0.3s ease-out;
            `;
            toast.textContent = message;
            
            // Add animation keyframes
            if (!document.getElementById('toast-styles')) {
                const style = document.createElement('style');
                style.id = 'toast-styles';
                style.textContent = `
                    @keyframes slideInRight {
                        from {
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }
        
        // Auto-submit form when important filters change
        document.addEventListener('DOMContentLoaded', function() {
            const autoSubmitSelects = document.querySelectorAll('#cuisineType, #priceRange, #ratingFilter, #sortBy');
            autoSubmitSelects.forEach(select => {
                select.addEventListener('change', function() {
                    // Optional: Auto-submit when important filters change
                    // Uncomment the line below if you want auto-submit
                    // this.form.submit();
                });
            });
            
            // Add smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>