spring:
  profiles:
    active: dev
  datasource:
    url: ${JDBC_DATABASE_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  
  thymeleaf:
    cache: false
    encoding: UTF-8
    mode: HTML
    prefix: classpath:/templates/
    suffix: .html
  
  messages:
    basename: messages
    encoding: UTF-8
    cache-duration: 3600
  
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB

server:
  port: 8081
  
app:
  base-url: http://localhost:8081
  upload:
    dir: uploads
    max-file-size: 5MB
    max-request-size: 5MB

# Payment configuration
payment:
  payos:
    # PayOS credentials - Updated with real account credentials
    client-id: 59e68d4d-6eb8-4259-93ab-b4c6c3a6af6f
    api-key: 9956541e-86ab-470a-a03c-6d1cc67d95b1
    checksum-key: eb7485ce4c656e02cae0629fcce02b2933d5b2a9b0a10447c9aa0662125835cf
    endpoint: https://api-merchant.payos.vn
    return-url: ${app.base-url}/payment/payos/return
    cancel-url: ${app.base-url}/payment/payos/cancel
    webhook-url: ${app.base-url}/payment/api/payos/webhook

logging:
  level:
    org.hibernate.SQL: INFO
    org.springframework.security: INFO

# Rate limiting configuration
rate:
  limit:
    login:
      requests: 5
      window: 30  
      auto-reset: 3600  # 1 hour
    forgot-password:
      requests: 3
      window: 300  # 5 minutes
      auto-reset: 1800  # 30 minutes
    register:
      requests: 2
      window: 300  # 5 minutes
      auto-reset: 1800  # 30 minutes
    reset-password:
      requests: 3
      window: 300  # 5 minutes
      auto-reset: 1800  # 30 minutes
    booking:
      requests: 10
      window: 60   # 1 minute
      auto-reset: 300  # 5 minutes
    chat:
      requests: 30
      window: 60   # 1 minute
      auto-reset: 300  # 5 minutes
    review:
      requests: 3
      window: 300  # 5 minutes
      auto-reset: 1800  # 30 minutes
    general:
      requests: 100
      window: 60   # 1 minute