<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refund API Test - Browser</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .test-link { display: block; margin: 10px 0; padding: 10px; background: #f0f0f0; text-decoration: none; border-radius: 3px; }
        .test-link:hover { background: #e0e0e0; }
        .description { color: #666; font-size: 14px; margin-bottom: 10px; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 3px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üß™ Refund API Test - Browser</h1>
    
    <div class="warning">
        <strong>‚ö†Ô∏è L∆∞u √Ω:</strong> C√°c link n√†y ch·ªâ ho·∫°t ƒë·ªông v·ªõi GET requests. 
        ƒê·ªÉ test POST requests (refund), b·∫°n c·∫ßn s·ª≠ d·ª•ng cURL, Postman, ho·∫∑c PowerShell script.
    </div>

    <div class="test-section">
        <h2>1. Check Refund Eligibility</h2>
        <div class="description">Ki·ªÉm tra xem payment c√≥ th·ªÉ ho√†n ti·ªÅn kh√¥ng</div>
        <a href="http://localhost:8080/payment/1/refund/check" class="test-link" target="_blank">
            GET /payment/1/refund/check
        </a>
    </div>

    <div class="test-section">
        <h2>2. Get Refundable Payments</h2>
        <div class="description">L·∫•y danh s√°ch t·∫•t c·∫£ payments c√≥ th·ªÉ ho√†n ti·ªÅn</div>
        <a href="http://localhost:8080/payment/refundable" class="test-link" target="_blank">
            GET /payment/refundable
        </a>
    </div>

    <div class="test-section">
        <h2>3. Get Refund Info</h2>
        <div class="description">L·∫•y th√¥ng tin chi ti·∫øt v·ªÅ refund c·ªßa m·ªôt payment</div>
        <a href="http://localhost:8080/payment/1/refund/info" class="test-link" target="_blank">
            GET /payment/1/refund/info
        </a>
    </div>

    <div class="test-section">
        <h2>4. Test Other Endpoints</h2>
        <div class="description">C√°c endpoint kh√°c ƒë·ªÉ test</div>
        <a href="http://localhost:8080/payment/1" class="test-link" target="_blank">
            GET /payment/1 (Payment details)
        </a>
        <a href="http://localhost:8080/booking/1" class="test-link" target="_blank">
            GET /booking/1 (Booking details)
        </a>
    </div>

    <div class="test-section">
        <h2>üìã Manual Test Commands</h2>
        <div class="description">Copy v√† paste c√°c l·ªánh n√†y v√†o terminal ƒë·ªÉ test POST requests:</div>
        <pre style="background: #f5f5f5; padding: 10px; border-radius: 3px; overflow-x: auto;">
# Test Full Refund
curl -X POST "http://localhost:8080/payment/1/refund?reason=Test%20refund" -H "Content-Type: application/json"

# Test Partial Refund  
curl -X POST "http://localhost:8080/payment/1/refund/partial?amount=50000&reason=Partial%20refund" -H "Content-Type: application/json"

# Test with different payment ID
curl -X GET "http://localhost:8080/payment/2/refund/check" -H "Content-Type: application/json"
        </pre>
    </div>

    <div class="test-section">
        <h2>üîß Troubleshooting</h2>
        <div class="description">N·∫øu g·∫∑p l·ªói, h√£y ki·ªÉm tra:</div>
        <ul>
            <li>‚úÖ Server ƒëang ch·∫°y tr√™n port 8080</li>
            <li>‚úÖ Database ƒë√£ ƒë∆∞·ª£c setup v·ªõi test data</li>
            <li>‚úÖ Payment ID 1, 2, 3 t·ªìn t·∫°i trong database</li>
            <li>‚úÖ Kh√¥ng c√≥ l·ªói authentication (n·∫øu c√≥ security)</li>
        </ul>
    </div>

    <script>
        // Auto-refresh page every 30 seconds to check server status
        setTimeout(() => {
            location.reload();
        }, 30000);
    </script>
</body>
</html>
